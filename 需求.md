# 大数据导论选择题练习系统 - 完整开发提示词

## 项目概述
创建一个交互式的大数据导论课程选择题练习网站，用于检测和提升学习掌握程度，支持题库管理、智能测验和错题强化练习。

---

## 核心功能需求

### 1. 题库管理模块
- **题目导入**：支持按单元（章节）批量导入题目
- **题型支持**：
  - 单选题（单个正确答案）
  - 多选题（多个正确答案）
- **题目结构**：
  - 题目内容（支持长文本）
  - 选项（A/B/C/D等，最多6个选项）
  - 正确答案
  - 所属单元/章节
  - 难度等级（可选：简单/中等/困难）
  - 解析说明（可选）
- **题库展示**：以列表形式展示所有题目，支持按单元筛选和搜索

### 2. 测验功能模块
- **测验模式**：
  - 全部题目测验
  - 按单元测验
  - 随机抽取测验（指定数量）
  - 错题专项测验
- **答题界面**：
  - 显示题目序号和总题数
  - 清晰展示题目内容和选项
  - 单选：点击即选中，可更改
  - 多选：可勾选多个选项
  - 上一题/下一题导航
  - 答题进度条
  - 提交测验按钮
- **实时反馈**：
  - 提交后立即显示对错
  - 标注正确答案和用户选择
  - 显示详细解析（如有）

### 3. 成绩记录与分析模块
- **测验记录**：
  - 自动保存每次测验结果
  - 记录时间、得分、正确率
  - 记录每道题的作答情况（对/错/未答）
- **数据统计**：
  - 总体正确率
  - 各单元掌握情况（正确率）
  - 历史测验记录列表
  - 进步曲线图（可选）
- **错题本**：
  - 自动收集所有答错的题目
  - 显示错误次数
  - 支持一键开始错题测验
  - 答对后可标记为"已掌握"

### 4. 用户体验功能
- **数据持久化**：所有数据自动保存到本地
- **快速操作**：
  - 快速开始最近的测验模式
  - 一键清除所有记录（重新开始）
- **友好提示**：
  - 题库为空时的引导
  - 测验完成后的鼓励语
  - 错题数量提醒

---

## 技术栈要求

### 前端框架
- **React 18+**：使用函数组件和Hooks
- **状态管理**：useState、useEffect、useReducer
- **样式方案**：Tailwind CSS（仅使用核心utility类）

### 数据持久化
- **使用 window.storage API**（不使用localStorage）
  ```javascript
  // 保存题库
  await window.storage.set('quiz-bank', JSON.stringify(questions), false)
  
  // 保存测验记录
  await window.storage.set('quiz-records', JSON.stringify(records), false)
  
  // 保存错题集
  await window.storage.set('wrong-questions', JSON.stringify(wrongList), false)
  ```

### UI组件库
- **lucide-react**：图标库
- **recharts**：数据可视化（统计图表）
- **shadcn/ui**（可选）：高质量UI组件

### 数据结构设计

#### 题目对象
```javascript
{
  id: "q001",
  unit: "第一章 大数据概述",
  type: "single", // 'single' 或 'multiple'
  question: "以下哪个不是大数据的特征？",
  options: [
    { key: "A", text: "大量性（Volume）" },
    { key: "B", text: "多样性（Variety）" },
    { key: "C", text: "低价值密度（Value）" },
    { key: "D", text: "准确性（Veracity）" }
  ],
  correctAnswer: ["C"], // 数组格式，多选时有多个元素
  explanation: "准确性不是大数据的核心特征...",
  difficulty: "easy" // 'easy', 'medium', 'hard'
}
```

#### 测验记录对象
```javascript
{
  id: "record_001",
  timestamp: 1703750400000,
  mode: "按单元", // 测验模式
  unit: "第一章 大数据概述",
  totalQuestions: 20,
  correctCount: 16,
  accuracy: 0.8,
  details: [
    {
      questionId: "q001",
      userAnswer: ["C"],
      isCorrect: true
    }
    // ...
  ]
}
```

#### 错题对象
```javascript
{
  questionId: "q001",
  wrongCount: 3,
  lastWrongTime: 1703750400000,
  mastered: false // 是否已掌握
}
```

---

## 界面设计要求

### 1. 主页布局
- **顶部导航栏**：显示Logo、当前页面标题
- **四大功能卡片**：
  1. 题库管理（显示题目总数）
  2. 开始测验（显示可选模式）
  3. 错题本（显示错题数量）
  4. 学习统计（显示总体正确率）

### 2. 题库管理页面
- 左侧：单元列表（可折叠）
- 右侧：题目列表（显示题号、题型、题目前50字）
- 顶部：添加题目按钮、导入JSON按钮
- 添加/编辑表单：
  - 单元选择下拉框
  - 题型选择（单选/多选）
  - 题目内容输入框
  - 动态添加选项（至少2个，最多6个）
  - 正确答案选择
  - 解析输入框

### 3. 测验页面
- **顶部**：进度条（已答/总题数）、计时器
- **中间主体**：
  - 题目序号和题型标识
  - 题目内容（大号字体）
  - 选项列表（单选用圆形按钮，多选用方形复选框）
- **底部**：上一题、下一题、提交测验按钮
- **结果页面**：
  - 大号显示得分
  - 正确率圆环图
  - 答题详情列表（展示每题对错）
  - 查看错题、重新测验、返回主页按钮

### 4. 错题本页面
- 错题列表（按错误次数排序）
- 每个错题显示：
  - 题目内容预览
  - 所属单元
  - 错误次数标记
  - "开始练习"按钮
- 顶部：全部错题测验按钮、清空已掌握按钮

### 5. 统计页面
- 总体数据卡片：总题数、已练习题数、总正确率
- 单元掌握情况（柱状图或进度条）
- 历史测验记录时间线
- 正确率趋势图（折线图）

---

## 实现要点

### 1. 数据加载与初始化
```javascript
useEffect(() => {
  const loadData = async () => {
    try {
      const bankResult = await window.storage.get('quiz-bank', false);
      if (bankResult) {
        setQuestions(JSON.parse(bankResult.value));
      }
    } catch (error) {
      console.log('首次使用，题库为空');
    }
  };
  loadData();
}, []);
```

### 2. 答题逻辑
- 单选：点击即替换当前答案
- 多选：点击切换勾选状态，允许多个选中
- 判题：将用户答案数组与正确答案数组比较（需排序后比较）

### 3. 错题收集逻辑
- 测验提交后，遍历答错的题目
- 检查错题本中是否已存在该题
- 存在则增加错误次数，不存在则新增记录
- 如果该题在错题本中已标记为"已掌握"，但本次又答错，则重置状态

### 4. 性能优化
- 大量题目时使用虚拟滚动
- 测验时仅加载当前题目，避免一次性渲染全部
- 防抖处理输入框输入

### 5. 用户引导
- 首次进入显示欢迎弹窗，说明使用流程
- 题库为空时显示"请先导入题目"提示
- 错题本为空时显示"暂无错题，继续努力"

---

## 额外增强功能（可选）

1. **导入/导出功能**
   - 支持JSON格式导入题库
   - 导出个人学习数据（供备份）

2. **智能推荐**
   - 根据错误率推荐重点练习单元
   - 自动生成薄弱知识点报告

3. **计时功能**
   - 记录每道题作答时间
   - 统计平均答题速度

4. **标记功能**
   - 答题时可标记不确定的题目
   - 提交前提醒检查已标记题目

5. **夜间模式**
   - 支持深色主题切换

---

## 开发步骤建议

1. **第一阶段**：搭建基础框架和页面路由
2. **第二阶段**：实现题库管理（增删改查）
3. **第三阶段**：实现基础测验功能（答题+判题）
4. **第四阶段**：实现数据持久化和错题本
5. **第五阶段**：完善统计功能和UI优化
6. **第六阶段**：测试和bug修复

---

## 示例题库JSON格式

```json
{
  "questions": [
    {
      "id": "q001",
      "unit": "第一章 大数据概述",
      "type": "single",
      "question": "大数据的4V特征不包括以下哪一项？",
      "options": [
        { "key": "A", "text": "Volume（大量）" },
        { "key": "B", "text": "Velocity（高速）" },
        { "key": "C", "text": "Variety（多样）" },
        { "key": "D", "text": "Visibility（可见性）" }
      ],
      "correctAnswer": ["D"],
      "explanation": "大数据的4V特征是Volume、Velocity、Variety和Value（价值），不包括Visibility。",
      "difficulty": "easy"
    },
    {
      "id": "q002",
      "unit": "第二章 Hadoop基础",
      "type": "multiple",
      "question": "Hadoop的核心组件包括以下哪些？（多选）",
      "options": [
        { "key": "A", "text": "HDFS" },
        { "key": "B", "text": "MapReduce" },
        { "key": "C", "text": "MySQL" },
        { "key": "D", "text": "YARN" }
      ],
      "correctAnswer": ["A", "B", "D"],
      "explanation": "Hadoop的核心组件包括HDFS（分布式文件系统）、MapReduce（分布式计算框架）和YARN（资源管理器）。MySQL不是Hadoop的组件。",
      "difficulty": "medium"
    }
  ]
}
```

---

## 注意事项

1. **所有数据操作都使用 window.storage API**，不要使用localStorage
2. **仅使用Tailwind核心utility类**，不使用自定义类
3. **React组件确保无required props**或提供默认值
4. **错误处理**：所有storage操作都要try-catch包裹
5. **响应式设计**：确保在手机、平板、PC上都能良好显示
6. **无障碍性**：按钮要有清晰的文字说明，颜色对比度要足够

---

## 预期成果

一个功能完整、界面美观、数据持久化的大数据导论选择题练习系统，能够：
- ✅ 高效管理题库
- ✅ 灵活进行测验
- ✅ 智能收集错题
- ✅ 直观展示学习进度
- ✅ 帮助学生有针对性地提升薄弱环节