# 错题分析使用指南

本指南将帮助你从历史测验记录中提取错题，并生成详细的错题分析报告。

## 方法一：浏览器控制台提取（推荐）

### 步骤：

1. **打开习题测验系统**
   - 进入 `大数据导论/习题测验` 目录
   - 运行测验系统（如果是本地开发环境）
   - 或直接访问已部署的网页版本

2. **打开浏览器开发者工具**
   - Windows/Linux: 按 `F12` 或 `Ctrl+Shift+I`
   - Mac: 按 `Cmd+Option+I`
   - 或右键点击页面 → 选择"检查"

3. **切换到Console（控制台）标签**

4. **加载并运行脚本**

   方式1 - 复制粘贴：
   ```javascript
   // 将 extract_quiz_data.js 文件的全部内容复制到控制台
   // 然后运行：
   const result = main();
   ```

   方式2 - 手动提取数据：
   ```javascript
   // 查看测验记录
   const records = JSON.parse(localStorage.getItem('quiz-records') || '[]');
   console.log('测验记录数：', records.length);
   console.log(records);

   // 查看错题本
   const wrongQuestions = JSON.parse(localStorage.getItem('wrong-questions') || '[]');
   console.log('错题数：', wrongQuestions.length);
   console.log(wrongQuestions);

   // 查看题库
   const questions = JSON.parse(localStorage.getItem('quiz-bank') || '[]');
   console.log('题库总数：', questions.length);
   ```

5. **保存报告**
   - 控制台会输出完整的Markdown格式报告
   - 复制报告内容
   - 保存为 `错题分析报告.md` 文件

## 方法二：直接使用系统的错题本功能

习题测验系统已经内置了错题管理功能：

1. **访问错题本页面**
   - 在系统导航栏点击"错题本"

2. **查看错题详情**
   - 可以看到所有做错的题目
   - 显示错误次数
   - 提供正确答案和解析

3. **从历史记录恢复错题**
   - 如果错题本为空，点击"从历史记录恢复错题"按钮
   - 系统会自动从所有测验记录中提取错题

4. **练习错题**
   - 点击"开始练习"按钮
   - 专门针对错题进行强化训练

5. **标记已掌握**
   - 对于已经掌握的题目，点击"标记已掌握"
   - 已掌握的题目不会再出现在练习列表中

## 方法三：查看统计页面

1. **访问统计页面**
   - 在系统导航栏点击"统计"

2. **查看详细数据**
   - 总题数、已练习题数、正确率
   - 各章节掌握情况（柱状图）
   - 正确率趋势（折线图）
   - 历史测验记录表格

3. **识别薄弱环节**
   - 查看各章节正确率，找出得分较低的章节
   - 查看正确率趋势，了解学习进展

## 错题数据结构说明

### 测验记录 (quiz-records)
```json
[
  {
    "id": "record_xxx",
    "timestamp": 1234567890000,
    "mode": "章节练习",
    "totalQuestions": 10,
    "correctCount": 8,
    "accuracy": 0.8,
    "details": [
      {
        "questionId": "q_0_1_single",
        "userAnswer": ["A"],
        "correctAnswer": ["B"],
        "isCorrect": false
      }
    ]
  }
]
```

### 错题本 (wrong-questions)
```json
[
  {
    "questionId": "q_0_1_single",
    "wrongCount": 2,
    "lastWrongTime": 1234567890000,
    "mastered": false
  }
]
```

## 常见问题

### Q1: 为什么错题本是空的？
A:
- 可能是第一次使用，还没有做过测验
- 尝试点击"从历史记录恢复错题"按钮
- 检查浏览器是否允许localStorage存储

### Q2: 如何导出错题数据？
A:
- 使用方法一的浏览器控制台脚本
- 或者在控制台运行：
  ```javascript
  const data = {
    records: JSON.parse(localStorage.getItem('quiz-records') || '[]'),
    wrong: JSON.parse(localStorage.getItem('wrong-questions') || '[]'),
    questions: JSON.parse(localStorage.getItem('quiz-bank') || '[]')
  };
  console.log(JSON.stringify(data, null, 2));
  ```

### Q3: 数据会丢失吗？
A:
- 数据存储在浏览器的localStorage中
- 除非清除浏览器数据，否则会一直保留
- 建议定期导出备份重要数据

### Q4: 如何重置所有数据？
A:
- 在错题本页面点击"清空所有错题"
- 或在控制台运行：
  ```javascript
  localStorage.removeItem('quiz-records');
  localStorage.removeItem('wrong-questions');
  location.reload();
  ```

## 后续建议

1. **定期导出数据**
   - 建议每周运行一次提取脚本
   - 保存错题报告，跟踪进步

2. **针对性复习**
   - 重点复习高频错题
   - 关注错误率高的章节

3. **错误原因分析**
   - 记录每道错题的错误原因
   - 总结易错知识点

4. **重复练习**
   - 使用错题本功能反复练习
   - 直到标记为"已掌握"

## 技术支持

如遇到问题，可以：
1. 检查浏览器控制台的错误信息
2. 查看 `src/utils/dataManager.js` 了解数据存储逻辑
3. 查看 `src/pages/WrongQuestions.jsx` 了解错题本功能
